<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="robots" content="noindex, nofollow">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–°–æ–æ–±—â–∏—Ç—å –æ –±–∞–≥–µ - LostBox</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      height: 100%;
      background: #f0f4f8;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    .toolbar {
      height: 60px;
      background: linear-gradient(to right, #1168c2, #0d5aa6, #1168c2);
      color: white;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      flex-shrink: 0;
      z-index: 100;
    }

    .toolbar-left {
      display: flex;
      align-items: center;
      flex: 1;
      min-width: 0;
    }

    .toolbar-right {
      display: flex;
      align-items: center;
    }

    .toolbar img {
      height: 40px;
      width: 40px;
      margin-right: 12px;
      image-rendering: pixelated;
      flex-shrink: 0;
    }

    .title {
      font-size: 1.4em;
      font-weight: bold;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      flex-shrink: 1;
    }

    .icon-btn {
      background: none;
      border: none;
      cursor: pointer;
      padding: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-left: 8px;
    }

    .icon-circle {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: white;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      transition: background 0.2s ease, transform 0.2s ease;
      flex-shrink: 0;
    }

    .icon-circle img {
      width: 16px;
      height: 16px;
      margin: 0;
    }

    .icon-circle:hover {
      background: #e3f0ff;
      transform: scale(1.1);
    }

    .centered-content {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      background: #999999;
      overflow-y: auto;
    }

    .bug-container {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      padding: 25px;
      max-width: 450px;
      width: 100%;
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 8px;
    }

    .bug-header {
      text-align: center;
    }

    .bug-title {
      font-size: 26px;
      color: #333;
      margin-bottom: 8px;
      font-weight: 300;
    }

    .bug-subtitle {
      color: #666;
      font-size: 15px;
      font-weight: 300;
      margin-bottom: 15px;
    }

    .form-group {
      margin-bottom: 10px;
    }

    .form-label {
      display: block;
      margin-bottom: 6px;
      color: #555;
      font-weight: 500;
      font-size: 10px;
    }

    .form-input, .form-select, .form-textarea {
      width: 100%;
      padding: 10px 14px;
      border: 1px solid #e1e5e9;
      font-size: 15px;
      transition: all 0.3s ease;
      background: white;
      border-radius: 4px;
    }

    .form-input:focus, .form-select:focus, .form-textarea:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.15);
    }

    .form-textarea {
      resize: vertical;
      min-height: 100px;
      font-family: inherit;
    }

    .submit-btn {
      width: 100%;
      background: #667eea;
      color: white;
      border: none;
      padding: 14px;
      font-size: 16px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: 10px;
      border-radius: 4px;
    }

    .submit-btn:hover {
      background: #5563c1;
      transform: translateY(-1px);
      box-shadow: 0 8px 15px rgba(102, 126, 234, 0.2);
    }

    .submit-btn:active {
      transform: translateY(0);
      background: #4a54a0;
    }

    .bug-footer {
      text-align: center;
      margin-top: 15px;
      color: #888;
      font-size: 13px;
    }

    .emoji {
      font-size: 22px;
      margin-right: 6px;
    }

    .bottom-bar {
      height: 60px;
      background: linear-gradient(to right, #1168c2, #0d5aa6, #1168c2);
      flex-shrink: 0;
      z-index: 100;
    }

    /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
    @media (max-width: 500px) {
      .bug-container {
        padding: 15px;
        margin: 10px;
        max-width: 95%;
      }
      
      .bug-title {
        font-size: 22px;
      }
      
      .centered-content {
        padding: 10px;
      }
    }
  </style>
</head>
<body>
  <!-- –í–µ—Ä—Ö–Ω—è—è —Å–∏–Ω—è—è –ø–∞–Ω–µ–ª—å -->
  <div class="toolbar">
    <div class="toolbar-left">
      <img src="assets/photo_resources/lostboxicon.png" alt="LostBox Logo">
      <div class="title">LostBox</div>
    </div>
    <div class="toolbar-right">
      <!-- –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥ -->
      <button class="icon-btn" onclick="goBack()" title="–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é">
        <div class="icon-circle">
          <img src="assets/photo_resources/back.png" alt="–ù–∞–∑–∞–¥">
        </div>
      </button>
      
      <!-- –ö–Ω–æ–ø–∫–∞ –º—É–∑—ã–∫–∏ -->
      <button class="icon-btn" id="musicBtn" title="–í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É">
        <div class="icon-circle">
          <img id="musicIcon" src="assets/photo_resources/offmusic.png" alt="–ú—É–∑—ã–∫–∞">
        </div>
      </button>
    </div>
  </div>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
  <div class="centered-content">
    <div class="bug-container">
      <div class="bug-header">
        <h1 class="bug-title"><span class="emoji">üêõ</span>–ù–∞—à–ª–∏ –±–∞–≥?</h1>
        <p class="bug-subtitle">–ü–æ–º–æ–≥–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å LostBox –ª—É—á—à–µ!</p>
      </div>

      <form id="bugForm">
        <div class="form-group">
          <label class="form-label" for="userName">–ö–∞–∫ –∫ –≤–∞–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è?</label>
          <input type="text" id="userName" class="form-input" placeholder="–ú–æ–∂–Ω–æ –∞–Ω–æ–Ω–∏–º–Ω–æ üòä">
        </div>

        <div class="form-group">
          <label class="form-label" for="bugType">–¢–∏–ø –æ–±—Ä–∞—â–µ–Ω–∏—è</label>
          <select id="bugType" class="form-select">
            <option value="bug">üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–∞–≥</option>
            <option value="feature">üí° –ò–¥–µ—è –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è</option>
            <option value="question">‚ùì –í–æ–ø—Ä–æ—Å –ø–æ —Ä–∞–±–æ—Ç–µ</option>
            <option value="other">‚ú® –ü—Ä–æ—Å—Ç–æ —Ö–æ—á—É —Å–∫–∞–∑–∞—Ç—å —Å–ø–∞—Å–∏–±–æ!</option>
            <option value="etc">üíª –î—Ä—É–≥–æ–π –≤–æ–ø—Ä–æ—Å</option>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label" for="bugDescription">–û–ø–∏—à–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–æ</label>
          <textarea id="bugDescription" class="form-textarea" placeholder="–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ? –ö–∞–∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏? –ö–∞–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–∂–∏–¥–∞–ª–∏? üßê"></textarea>
        </div>

        <button type="button" class="submit-btn" onclick="sendBugReport()">
          üì® –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç—á–µ—Ç
        </button>
      </form>

      <div class="bug-footer">
        <p>LostBox –≤—Å–µ–≥–¥–∞ FoundBox! üéØ</p>
      </div>
    </div>
  </div>

  <!-- –ù–∏–∂–Ω—è—è —Å–∏–Ω—è—è –ø–∞–Ω–µ–ª—å -->
  <div class="bottom-bar"></div>

  <!-- –ê—É–¥–∏–æ –¥–ª—è –º—É–∑—ã–∫–∏ -->
  <audio id="bgMusic" loop>
    <source src="https://files.catbox.moe/b9sxyl.mp3" type="audio/mpeg">
    –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç.
  </audio>

  <script>
    // –≠–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –º—É–∑—ã–∫–∏
    const musicBtn = document.getElementById('musicBtn');
    const musicIcon = document.getElementById('musicIcon');
    const bgMusic = document.getElementById('bgMusic');

    // –°–æ—Å—Ç–æ—è–Ω–∏–µ –º—É–∑—ã–∫–∏
    let musicPlaying = false;
    let iconInterval = null;
    let currentFrame = 1;

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞–∑–∞–¥
    function goBack() {
      window.location.href = "index.html";
    }

    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º—É–∑—ã–∫–æ–π
    musicBtn.onclick = () => {
      toggleMusic(!musicPlaying);
    };

    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º—É–∑—ã–∫–∏
    function toggleMusic(state) {
      musicPlaying = state;
      
      if (musicPlaying) {
        bgMusic.play().catch(e => {
          console.log("–ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –º—É–∑—ã–∫–∏ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è.");
        });
        musicBtn.title = "–û—Ç–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É";
        if (!iconInterval) {
          iconInterval = setInterval(() => {
            currentFrame = currentFrame === 1 ? 2 : 1;
            musicIcon.src = `assets/photo_resources/onmusic${currentFrame}.png`;
          }, 1000);
        }
      } else {
        bgMusic.pause();
        musicBtn.title = "–í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É";
        if (iconInterval) {
          clearInterval(iconInterval);
          iconInterval = null;
        }
        musicIcon.src = "assets/photo_resources/offmusic.png";
      }
      
      localStorage.setItem('musicPlaying', musicPlaying);
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º—É–∑—ã–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    window.addEventListener('DOMContentLoaded', () => {
      const savedMusicState = localStorage.getItem('musicPlaying') === 'true';
      toggleMusic(savedMusicState);
      
      // –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ
      document.body.style.opacity = '1';
    });

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–º–µ–Ω–∏ –∏ –≤–µ—Ä—Å–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞, –∏ –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
    function getBrowserInfo() {
      const userAgent = navigator.userAgent;
      let browserName = "–ù–µ–∏–∑–≤–µ—Å—Ç–µ–Ω";
      let browserVersion = "N/A";
      let osPlatform = navigator.platform || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –û–°';

      // 1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞
      if (userAgent.indexOf("Chrome") > -1 && userAgent.indexOf("Edg") === -1 && userAgent.indexOf("OPR") === -1) {
        browserName = "Chrome";
        const matches = userAgent.match(/Chrome\/(\d+\.\d+)/);
        if (matches) browserVersion = matches[1];
      } else if (userAgent.indexOf("Firefox") > -1) {
        browserName = "Firefox";
        const matches = userAgent.match(/Firefox\/(\d+\.\d+)/);
        if (matches) browserVersion = matches[1];
      } else if (userAgent.indexOf("Edg") > -1) {
        browserName = "Edge";
        const matches = userAgent.match(/Edg\/(\d+\.\d+)/);
        if (matches) browserVersion = matches[1];
      } else if (userAgent.indexOf("Safari") > -1 && userAgent.indexOf("Chrome") === -1 && userAgent.indexOf("Edg") === -1) {
        browserName = "Safari";
        const matches = userAgent.match(/Version\/(\d+\.\d+)/);
        if (matches) browserVersion = matches[1];
      } else if (userAgent.indexOf("OPR") > -1 || userAgent.indexOf("Opera") > -1) {
        browserName = "Opera";
        const matches = userAgent.match(/(OPR|Opera)\/(\d+\.\d+)/);
        if (matches) browserVersion = matches[2] || 'N/A';
      }
      
      // 2. –£–ª—É—á—à–µ–Ω–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –û–°/–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã
      if (osPlatform.includes("Win")) {
        osPlatform = "Windows";
      } else if (osPlatform.includes("Mac")) {
        osPlatform = "macOS";
      } else if (userAgent.includes("Android")) {
        const matches = userAgent.match(/Android (\d+)/);
        osPlatform = matches ? `Android ${matches[1]}` : "Android";
      } else if (userAgent.includes("Linux")) {
        osPlatform = "Linux";
      } else if (/iPad|iPhone|iPod/.test(userAgent)) {
        osPlatform = "iOS/iPadOS";
      }

      return {
        browser: `${browserName} v${browserVersion}`,
        platform: osPlatform,
        fullAgent: userAgent 
      };
    }

    function sendBugReport() {
      const name = document.getElementById('userName').value || '–ê–Ω–æ–Ω–∏–º–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';
      const type = document.getElementById('bugType').value;
      const description = document.getElementById('bugDescription').value;
      
      // –ü–æ–ª—É—á–∞–µ–º —á–∏—Å—Ç—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±—Ä–∞—É–∑–µ—Ä–µ –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ
      const info = getBrowserInfo(); 

      const typeEmojis = {
        'bug': 'üö®',
        'feature': 'üí°', 
        'question': '‚ùì',
        'other': '‚ú®',  
        'etc': 'üíª'
      };

      const typeTitles = {
        'bug': '–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ë–ê–ì',
        'feature': '–ò–î–ï–Ø –î–õ–Ø –£–õ–£–ß–®–ï–ù–ò–Ø',
        'question': '–í–û–ü–†–û–°',
        'other': '–û–ë–†–ê–©–ï–ù–ò–ï',
        'etc': '–î–†–£–ì–û–ô –í–û–ü–†–û–°'
      };

      const subject = `${typeEmojis[type]} ${typeTitles[type]} –æ—Ç ${name}`;
      
      // –§–æ—Ä–º–∏—Ä—É–µ–º —á–∏—Å—Ç—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π —Ç–µ–∫—Å—Ç –ø–∏—Å—å–º–∞
      const body = `üë§ –ò–º—è: ${name}
üéØ –¢–∏–ø: ${typeTitles[type]}
üìù –û–ø–∏—Å–∞–Ω–∏–µ: ${description}

üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
- –ë—Ä–∞—É–∑–µ—Ä: ${info.browser} 
- –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: ${info.platform} 
- –í—Ä–µ–º—è: ${new Date().toLocaleString('ru-RU')}
- User-Agent (–ø–æ–ª–Ω—ã–π): ${info.fullAgent} 

---
LostBox –≤—Å–µ–≥–¥–∞ FoundBox! üéØ
üíå –°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à—É –ø–æ–º–æ—â—å!`;

      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
      if(description.trim() === '' && type !== 'other') { 
        alert('üìù –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ!');
        return;
      }

      if(confirm('üì® –û—Ç–∫—Ä—ã—Ç—å –ø–æ—á—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏?')) {
        window.location.href = `mailto:lostbox.help@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
      }
    }

    document.addEventListener('DOMContentLoaded', function() {
      const bugTypeSelect = document.getElementById('bugType');
      const bugDescriptionTextarea = document.getElementById('bugDescription');

      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
      updatePlaceholder(bugTypeSelect.value); 

      // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ª—É—à–∞—Ç–µ–ª—è –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞
      bugTypeSelect.addEventListener('change', function() {
        updatePlaceholder(this.value);
      });

      function updatePlaceholder(typeValue) {
        let newPlaceholder = '';
        switch(typeValue) {
          case 'bug':
            newPlaceholder = '–í –∫–∞–∫–æ–π —á–∞—Å—Ç–∏ —Å–∞–π—Ç–∞ –ø—Ä–æ–∏–∑–æ—à—ë–ª –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–∞–≥? ü§î';
            break;
          case 'feature':
            newPlaceholder = '–ß—Ç–æ –≤—ã –±—ã –º–æ–≥–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –¥–ª—è —Å–∞–π—Ç–∞? ü§î';
            break;
          case 'question':
            newPlaceholder = '–ö–∞–∫–æ–π –≤—ã –±—ã –≤–æ–ø—Ä–æ—Å —Ö–æ—Ç–µ–ª–∏ –∑–∞–¥–∞—Ç—å? ü§î';
            break;
          case 'other':
            newPlaceholder = '–°–ø–∞—Å–∏–±–æ –≤–∞–º –∑–∞ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ –Ω–∞ –º–æ–µ–º —Å–∞–π—Ç–µ! ‚ò∫Ô∏è';
            break;
            case 'etc':
              newPlaceholder = '–•–æ—á—É –∑–∞–¥–∞—Ç—å –¥—Ä—É–≥–æ–π –≤–æ–ø—Ä–æ—Å ü§î';
              break;
          default:
            newPlaceholder = '–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ? –ö–∞–∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏? –ö–∞–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–∂–∏–¥–∞–ª–∏? üßê';
        }
        bugDescriptionTextarea.placeholder = newPlaceholder;
      }
    });
  </script>
</body>
</html>