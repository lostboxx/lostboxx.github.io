<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="robots" content="noindex, follow">
    <title>–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤—Ä–µ–º–µ–Ω–∏</title>
</head>
<body>

<h1>—Å–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ—à–ª–æ?</h1>

<!-- –æ–¥–∏–Ω–æ—á–Ω–∞—è –¥–∞—Ç–∞ -->
<label>–¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è:</label><br>
<input type="datetime-local" id="singleDate"><br><br>

<label>—Ñ–æ—Ä–º–∞—Ç 1:</label>
<select id="format1">
  <option value="">(–Ω–∏—á–µ–≥–æ)</option>
  <option value="minutes">–º–∏–Ω—É—Ç—ã</option>
  <option value="hours">—á–∞—Å—ã</option>
  <option value="days">–¥–Ω–∏</option>
</select><br><br>

<label>—Ñ–æ—Ä–º–∞—Ç 2:</label>
<select id="format2">
  <option value="">(–Ω–∏—á–µ–≥–æ)</option>
  <option value="minutes">–º–∏–Ω—É—Ç—ã</option>
  <option value="hours">—á–∞—Å—ã</option>
  <option value="days">–¥–Ω–∏</option>
</select><br><br>

<button onclick="calculateSingle()">–ø–æ—Å—á–∏—Ç–∞—Ç—å –æ—Ç –¥–∞—Ç—ã –¥–æ —Å–µ–π—á–∞—Å</button>
<p id="result1"></p>

<hr>

<!-- –¥–∏–∞–ø–∞–∑–æ–Ω –¥–≤—É—Ö –¥–∞—Ç -->
<h2>—Ä–∞—Å—á—ë—Ç –º–µ–∂–¥—É –¥–≤—É–º—è –¥–∞—Ç–∞–º–∏</h2>

<label>–ø–µ—Ä–≤–∞—è –¥–∞—Ç–∞:</label><br>
<input type="datetime-local" id="startDate"><br><br>

<label>–≤—Ç–æ—Ä–∞—è –¥–∞—Ç–∞:</label><br>
<input type="datetime-local" id="endDate"><br><br>

<button onclick="calculateBetween()">–ø–æ—Å—á–∏—Ç–∞—Ç—å –ø—Ä–æ–π–¥–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è</button>
<p id="result2"></p>

<script>
function copyText(id) {
  const el = document.getElementById(id);
  if (!el || !el.textContent) return;

  navigator.clipboard.writeText(el.textContent).then(() => {
    alert('—Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!');
  });
}

function calculateSingle() {
  const input = document.getElementById('singleDate').value;
  const format1 = document.getElementById('format1').value;
  const format2 = document.getElementById('format2').value;
  const result = document.getElementById('result1');

  if (!input) {
    result.innerHTML = '–≤—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É!';
    return;
  }

  const selectedTime = new Date(input);
  const now = new Date();
  const diffMs = now - selectedTime;
  const absDiff = Math.abs(diffMs);

  const prefix = diffMs < 0 ? '–¥–æ —ç—Ç–æ–≥–æ –¥–Ω—è –æ—Å—Ç–∞–ª–æ—Å—å' : '–ø—Ä–æ—à–ª–æ';

  const allValues = {
    minutes: Math.floor(absDiff / 60000) % 60,
    hours: Math.floor(absDiff / 3600000) % 24,
    days: Math.floor(absDiff / 86400000)
  };

  const used = new Set([format1, format2].filter(Boolean));
  if (used.size === 0) {
    result.innerHTML = '–≤—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ñ–æ—Ä–º–∞—Ç!';
    return;
  }

  let parts = [];
  if (used.has('days')) parts.push(`${allValues.days} –¥–Ω`);
  if (used.has('hours')) parts.push(`${allValues.hours} —á`);
  if (used.has('minutes')) parts.push(`${allValues.minutes} –º–∏–Ω`);

  const text = `${prefix} ${parts.join(', ')}.`;
  result.innerHTML = `${text} <button onclick="copyText('result1')">üíæ</button>`;
}

function calculateBetween() {
  const start = document.getElementById('startDate').value;
  const end = document.getElementById('endDate').value;
  const result = document.getElementById('result2');

  if (!start || !end) {
    result.innerHTML = '–≤—ã–±–µ—Ä–∏—Ç–µ –æ–±–µ –¥–∞—Ç—ã!';
    return;
  }

  const startTime = new Date(start);
  const endTime = new Date(end);

  if (startTime > endTime) {
    result.innerHTML = '–Ω–µ–≤–µ—Ä–Ω–∞—è –¥–∞—Ç–∞! –≤ –ø–µ—Ä–≤–æ–º –ø–æ–ª–µ –¥–∞—Ç–∞ –Ω–æ–≤–µ–µ, —á–µ–º –≤–æ –≤—Ç–æ—Ä–æ–º.';
    return;
  }

  const diffMs = endTime - startTime;
  const days = Math.floor(diffMs / 86400000);
  const hours = Math.floor((diffMs % 86400000) / 3600000);
  const minutes = Math.floor((diffMs % 3600000) / 60000);

  const text = `–º–µ–∂–¥—É –¥–∞—Ç–∞–º–∏ –ø—Ä–æ—à–ª–æ: ${days} –¥–Ω, ${hours} —á, ${minutes} –º–∏–Ω.`;
  result.innerHTML = `${text} <button onclick="copyText('result2')">üíæ</button>`;
}
</script>

</body>
</html>