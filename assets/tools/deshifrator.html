<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="robots" content="noindex, follow"> 
  <title>–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –∫–∞—Ä–∞–∫—É–ª–µ–π</title>
  <style>
    body {
      background: #121212;
      color: #eee;
      font-family: monospace;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }
    select, textarea, button {
      font-size: 1rem;
      margin: 10px;
      padding: 10px;
      border-radius: 6px;
      border: none;
    }
    textarea {
      width: 90%;
      max-width: 600px;
      height: 100px;
      resize: vertical;
      background: #1e1e1e;
      color: #eee;
    }
    button {
      background: #444;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background: #666;
    }
  </style>
</head>
<body>
  <h2>üîç —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –∫–∞—Ä–∞–∫—É–ª–µ–π</h2>
  
  <label for="encoding">–∏—Å—Ö–æ–¥–Ω–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ (–≤ –∫–∞–∫–æ–π –±—ã–ª —Ç–µ–∫—Å—Ç):</label> 
  <select id="encoding">
    <option value="windows-1251">Windows-1251 (–∫–∏—Ä–∏–ª–ª–∏—Ü–∞)</option>
    <option value="windows-1252">Windows-1252 (–ª–∞—Ç–∏–Ω–∏—Ü–∞)</option>
    <option value="koi8-r">KOI8-R (—Ä—É—Å—Å–∫–∏–π)</option>
    <option value="koi8-u">KOI8-U (—É–∫—Ä–∞–∏–Ω—Å–∫–∏–π)</option>
    <option value="iso-8859-1">ISO-8859-1 (–ª–∞—Ç–∏–Ω–∏—Ü–∞)</option>
    <option value="iso-8859-5">ISO-8859-5 (–∫–∏—Ä–∏–ª–ª–∏—Ü–∞)</option>
    <option value="maccyrillic">MacCyrillic</option>
    <option value="ibm866">IBM866</option>
    <option value="x-mac-cyrillic">x-mac-cyrillic</option>
  </select>

  <textarea id="input" placeholder="–≤—Å—Ç–∞–≤—å—Ç–µ –∫–∞—Ä–∞–∫—É–ª–∏ —Å—é–¥–∞..."></textarea>
  <button id="decode">—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å</button>

  <script>
    const input = document.getElementById('input');
    const encodingSelect = document.getElementById('encoding');
    const decodeBtn = document.getElementById('decode');

    let isDecoded = false;

    decodeBtn.onclick = () => {
      if (isDecoded) {
        input.value = '';
        decodeBtn.textContent = '—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å';
        encodingSelect.disabled = false;
        isDecoded = false;
        return;
      }

      const correctEncoding = encodingSelect.value;
      const garbledText = input.value;

      try {
        // –ü–æ–ª—É—á–∞–µ–º –±–∞–π—Ç—ã –∏–∑ –∏—Å–∫–∞–∂–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞, –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—è —á—Ç–æ –æ–Ω –±—ã–ª –ø—Ä–æ—á–∏—Ç–∞–Ω –∫–∞–∫ UTF-8
        const encoder = new TextEncoder();
        const bytes = encoder.encode(garbledText);
        
        // –î–µ–∫–æ–¥–∏—Ä—É–µ–º —ç—Ç–∏ –±–∞–π—Ç—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–∏
        const decoder = new TextDecoder(correctEncoding);
        const decoded = decoder.decode(bytes);

        input.value = decoded;
        decodeBtn.textContent = '—Å–±—Ä–æ—Å–∏—Ç—å';
        encodingSelect.disabled = true;
        isDecoded = true;
      } catch (e) {
        input.value = '‚ùå –æ—à–∏–±–∫–∞ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏: ' + e.message;
      }
    };
  </script>
</body>
</html>