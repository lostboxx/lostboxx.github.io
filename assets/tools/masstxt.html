<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale-1.0">
<meta name="description" content="–ú–∞—Å—Å–æ–≤—ã–π TXT –æ—Ç LostBox: –í—ã–±–µ—Ä–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤, –∏ –æ–Ω–∏ —Å–æ–ª—å—é—Ç—Å—è —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –≤ –æ–¥–∏–Ω!" />
<meta name="keywords" content="–º–∞—Å—Å–æ–≤—ã–π —Ç—Ö—Ç, —Å–ª–∏—è–Ω–∏–µ, —Ñ–∞–π–ª—ã, mass txt, txt">
  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="256x256" href="https://lostbox1000.neocities.org/favicon.png" />
  <title>Text Merger</title>
  <style>
    * { box-sizing: border-box; }
    html, body {
      margin: 0;
      padding: 0;
      height: 100vh;
      background: #e0f7ff;
      font-family: sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .container {
      text-align: center;
      max-width: 360px;
      width: 100%;
      padding: 20px;
      background: #ffffff;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    h1 {
      margin: 0 0 6px;
      font-size: 24px;
      color: #1168c2;
    }
    #desc {
      margin: 0 0 20px;
      font-size: 14px;
      color: #555;
    }
    .controls {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      margin-bottom: 16px;
    }
    #file-count {
      font-size: 20px;
      width: 24px;
      text-align: right;
      color: #1168c2;
      user-select: none;
    }
    #plus-label {
      display: inline-flex;
      justify-content: center;
      align-items: center;
      width: 48px;
      height: 48px;
      background: #00aaff;
      color: #fff;
      font-size: 32px;
      border-radius: 50%;
      cursor: pointer;
      transition: background 0.2s;
      user-select: none;
    }
    #plus-label:hover {
      background: #008ecc;
    }
    input[type="file"] {
      display: none;
    }
    .reset-container {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    #reset-btn {
      background: none;
      border: none;
      padding: 0;
      cursor: pointer;
    }
    .reset-container .icon-circle {
      width: 36px;
      height: 36px;
      background: #f5f5f5;
      color: #1168c2;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 20px;
      transition: background 0.2s;
    }
    #reset-btn:hover .icon-circle {
      background: #e0eaff;
    }
    .reset-text {
      margin-top: 4px;
      font-size: 10px;
      color: #777;
      user-select: none;
    }
    #download-btn {
      padding: 10px 24px;
      font-size: 16px;
      background: #00aaff;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: background 0.2s;
    }
    #download-btn:disabled {
      background: #99d9ff;
      cursor: not-allowed;
    }
    #download-btn:not(:disabled):hover {
      background: #008ecc;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üìÑ Text Merger</h1>
    <p id="desc">–í—ã–±–µ—Ä–∏—Ç–µ –≤ —Ä–∞–∑–Ω—ã—Ö –ø–∞–ø–∫–∞—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –∏ –Ω–∞–∂–º–∏—Ç–µ ¬´–°–∫–∞—á–∞—Ç—å¬ª, —á—Ç–æ–±—ã –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –∏—Ö –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª.</p>

    <div class="controls">
      <span id="file-count">0</span>

      <label id="plus-label" for="file-input">Ôºã</label>
      <input
        type="file"
        id="file-input"
        multiple
        accept=".txt,.html,.css,.js,.json,.md,.xml,.csv,.log,text/*"
      />

      <div class="reset-container">
        <button id="reset-btn" title="–°–±—Ä–æ—Å–∏—Ç—å –≤—ã–±–æ—Ä">
          <div class="icon-circle">üîª</div>
        </button>
        <div class="reset-text">–°–±—Ä–æ—Å</div>
      </div>
    </div>

    <button id="download-btn" disabled>–°–∫–∞—á–∞—Ç—å</button>
  </div>

  <script>
    const fileInput   = document.getElementById('file-input');
    const fileCount   = document.getElementById('file-count');
    const resetBtn    = document.getElementById('reset-btn');
    const downloadBtn = document.getElementById('download-btn');
    let files = [];

    // –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ –∫–Ω–æ–ø–∫–∞)
    function updateUI() {
      fileCount.textContent = files.length;
      downloadBtn.disabled = files.length === 0;
    }

    // –ü—Ä–∏ –≤—ã–±–æ—Ä–µ —Ñ–∞–π–ª–æ–≤
    fileInput.addEventListener('change', () => {
      files = Array.from(fileInput.files);
      updateUI();
    });

    // –°–±—Ä–æ—Å –≤—ã–±–æ—Ä–∞
    resetBtn.addEventListener('click', () => {
      files = [];
      fileInput.value = '';
      updateUI();
    });

    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ merged —Ñ–∞–π–ª–∞
    downloadBtn.addEventListener('click', async () => {
      if (!files.length) return;
      downloadBtn.disabled = true;

      let mergedText = '';
      for (const file of files) {
        const content = await file.text();
        mergedText += `-${file.name}-\n${content}\n\n`;
      }

      const blob = new Blob([mergedText], { type: 'text/plain;charset=utf-8' });
      const url  = URL.createObjectURL(blob);
      const a    = document.createElement('a');
      a.href     = url;
      a.download = 'together.txt';
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);

      downloadBtn.disabled = false;
    });

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    updateUI();
  </script>
</body>
</html>