<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="robots" content="noindex, follow">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BanMux >/</title>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  body {
    background: black;
    color: #00ff00;
    font-family: monospace;
    padding: 3px;
    user-select: none;
    height: 100vh;
    display: flex; 
    flex-direction: column;
    overflow: hidden;
    font-size: 14px;
    line-height: 1.1;
  }
  #welcome {
    flex-shrink: 0;
    border-bottom: 1px solid #004400;
    padding: 3px 0;
  }
  #terminal {
    flex-grow: 1;
    overflow-y: auto;
    white-space: pre-wrap;
    padding: 0;
  }
  .line {
    display: flex;
    margin-bottom: 1px;
  }
  .prompt {
    flex-shrink: 0;
    padding-right: 2px;
  }
  .input-line {
    outline: none;
    flex-grow: 1;
    caret-color: transparent;
  }
  .input-line:after {
    content: "";
    display: inline-block;
    width: 8px;
    height: 1.1em;
    background: #00ff00;
    animation: blink 1s steps(1) infinite;
    vertical-align: bottom;
    margin-left: 1px;
  }
  @keyframes blink {
    50% { opacity: 0; }
  }
  .output-line {
    user-select: text;
  }
</style>
</head>
<body tabindex="0">
  <div id="welcome">â‚¸Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ Ð² BanMux!</div>
<div id="terminal" aria-live="polite"></div>

<script>
  const terminal = document.getElementById('terminal');
  let isAwaitingConfirmation = false;
  let binaryMode = false;
  let maxInputLength = 16;
  let angelProtection = false;

  const specialCommands = new Set([
    "703691", "00:00", "1234", "deleteOS", "%", 
    "224466", "19414", "666666", "102938", "102", 
    "103", "1111111111111111", "404", "777", "010101", "3333",
    "9143", "000", "2014", "000000"
  ]);

  function textToBinary(text) {
    return text.split('').map(char => 
      char.charCodeAt(0).toString(2).padStart(8, '0')
    ).join(' ');
  }

  function handleCommand(inputText, inputLine) {
    const trimmed = inputText.trim();

    inputLine.contentEditable = false;
    inputLine.classList.remove('input-line');
    inputLine.classList.add('output-line');

    if (binaryMode) {
      inputLine.textContent = textToBinary(inputLine.textContent);
    }

    if (isAwaitingConfirmation) {
      if (trimmed === '1') {
        terminal.innerHTML = '';
        addOutputLine('ðŸ˜„ ÐžÐ¿ÐµÑ€Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð° ÑÐ±Ñ€Ð¾ÑˆÐµÐ½Ð° Ð´Ð¾ Ð·Ð°Ð²Ð¾Ð´ÑÐºÐ¸Ñ… Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº.');
        const welcome = document.getElementById('welcome');
        welcome.textContent = 'â‚¸Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ Ð² BanMux!';
        binaryMode = false;
        maxInputLength = 16;
        angelProtection = false;
      } else if (trimmed === '2') {
        addOutputLine('ðŸ˜„ ÐžÐ¡ Ð² Ð¿Ð¾Ñ€ÑÐ´ÐºÐµ');
      } else {
        addOutputLine('ðŸ«¨ Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ 1 Ð´Ð»Ñ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ Ð¸Ð»Ð¸ 2 Ð´Ð»Ñ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹');
        createInputLine();
        return;
      }
      isAwaitingConfirmation = false;
    } else {
      if (trimmed === "3333") {
        if (angelProtection) {
          maxInputLength = 16;
          angelProtection = false;
          addOutputLine("ðŸ‘¼ ÐÐ½Ð³ÐµÐ»ÑŒÑÐºÐ°Ñ Ð·Ð°Ñ‰Ð¸Ñ‚Ð° Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð° (Ð»Ð¸Ð¼Ð¸Ñ‚ 16)");
        } else {
          maxInputLength = 50;
          angelProtection = true;
          addOutputLine("ðŸ‘¼ ÐÐ½Ð³ÐµÐ»ÑŒÑÐºÐ°Ñ Ð·Ð°Ñ‰Ð¸Ñ‚Ð° Ð°ÐºÑ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð° (Ð»Ð¸Ð¼Ð¸Ñ‚ 50)");
        }
      } else if (trimmed === "9143") {
        addOutputLine("ðŸ†˜ Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð¿Ð¾Ð»ÐµÐ·Ð½Ñ‹Ñ… ÐºÐ¾Ð¼Ð°Ð½Ð´:");
        addOutputLine("777 - ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑƒÐ´Ð°Ñ‡Ñƒ");
        addOutputLine("% - Ð£Ð·Ð½Ð°Ñ‚ÑŒ Ð·Ð°Ñ€ÑÐ´ Ð±Ð°Ñ‚Ð°Ñ€ÐµÐ¸");
        addOutputLine("00:00 - Ð£Ð·Ð½Ð°Ñ‚ÑŒ Ñ‚ÐµÐºÑƒÑ‰ÐµÐµ Ð²Ñ€ÐµÐ¼Ñ");
        addOutputLine("102 - Ð’Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ð±Ð°Ð³Ð¾Ñ„Ð¸ÐºÑ");
        addOutputLine("103 - ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÐµ ÐžÐ¡");
        addOutputLine("000 - ÐÐ¸Ñ‡Ñ‚Ð¾...");
        addOutputLine("2014 - Ð“Ð¾Ð´ Ð¾ÑÐ½Ð¾Ð²Ð°Ð½Ð¸Ñ");
        addOutputLine("000000 - Ð Ð°Ð·Ð´Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ°");
        addOutputLine("Ð•ÑÐ»Ð¸ Ð½ÐµÐ¿Ð¾Ð½ÑÑ‚Ð½Ð¾, Ð²Ð²Ð¾Ð´Ð¸ Ð²ÑÐµ Ð¿Ð¾Ð´Ñ€ÑÐ´ ðŸ˜‰");
      } else if (trimmed === "000") {
        addOutputLine("ðŸ•³ï¸ ÐÐ¸Ñ‡Ñ‚Ð¾... Ð—Ð½Ð°ÐºÐ¾Ð¼Ð¾Ðµ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð¾, Ð¿Ñ€Ð°Ð²Ð´Ð°?");
      } else if (trimmed === "2014") {
        try {
          const currentYear = new Date().getFullYear();
          const yearsPassed = currentYear - 2014;
          addOutputLine(`ðŸ‘¶ Ð£Ð¶Ðµ Ð¿Ñ€Ð¾ÑˆÐ»Ð¾ ${yearsPassed} Ð»ÐµÑ‚...`);
        } catch (e) {
          addOutputLine("ðŸ‘¶ Ð“Ð¾Ð´ Ñ€Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ ÑÐ¾Ð·Ð´Ð°Ñ‚ÐµÐ»Ñ...");
        }
      } else if (trimmed === "000000") {
        addOutputLine("ðŸ˜¡ Ð‘ÐµÑÐ¸Ñ‚ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ°");
      } else if (trimmed.startsWith('>/')) {
        addOutputLine(trimmed);
        addOutputLine('Ð·Ð°Ð¿Ñ€Ð¾Ñ Ð¿Ñ€Ð¸Ð½ÑÑ‚\\');
      } else if (trimmed === "703691") {
        addOutputLine("âš¡ Ð ÐµÐ¶Ð¸Ð¼ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ° Ð°ÐºÑ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ð½!");
      } else if (trimmed === "00:00") {
        const now = new Date();
        const hours = String(now.getHours()).padStart(2, '0');
        const minutes = String(now.getMinutes()).padStart(2, '0');
        addOutputLine(`ðŸ“Ÿ Ð’Ñ€ÐµÐ¼Ñ Ð½Ð° Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ðµ: ${hours}:${minutes}`);
      } else if (trimmed === "1234") {
        addOutputLine("ðŸ˜ Ð¢Ð¾Ñ‚ ÑÐ°Ð¼Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ");
      } else if (trimmed === "deleteOS") {
        addOutputLine("ðŸ˜¨ Ð¢Ð¾Ñ‡Ð½Ð¾ ÑÐ±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð‘Ð°Ð½ÐºÐ° ÐžÐ¡?");
        addOutputLine("1 - Ð”Ð!");
        addOutputLine("2 - ÐÐ•Ð¢!");
        isAwaitingConfirmation = true;
      } else if (trimmed === "%") {
        if ('getBattery' in navigator) {
          navigator.getBattery().then(battery => {
            const level = Math.round(battery.level * 100);
            if (level < 50) {
              addOutputLine(`ðŸª« Ð£ Ð²Ð°Ñ ${level}% Ð¡Ð¾Ð²ÐµÑ‚ÑƒÐµÐ¼ Ð¿Ð¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½ Ð½Ð° Ð·Ð°Ñ€ÑÐ´ÐºÑƒ`);
            } else {
              addOutputLine(`ðŸ”‹ Ð£ Ð²Ð°Ñ ${level}%`);
            }
          }).catch(() => {
            addOutputLine('ðŸ«¨ ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¾ Ð±Ð°Ñ‚Ð°Ñ€ÐµÐµ');
          });
        } else {
          addOutputLine('ðŸ«¨ Ð’Ð°Ñˆ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€ Ð½Ðµ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Battery API');
        }
      } else if (trimmed === "224466") {
        addOutputLine("ðŸ¥² Ð¢Ð¾Ñ‚ ÑÐ°Ð¼Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Ð¸Ð· 2019");
      } else if (trimmed === "19414") {
        addOutputLine("ðŸ˜¬ ÐÐµ ÑÑ‚Ð¾Ð¸Ñ‚ Ð²Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ ÑÑ‚Ð¾ Ñ‡Ð¸ÑÐ»Ð¾");
      } else if (trimmed === "666666") {
        addOutputLine("ðŸ‘¿ Ð£Ð¼Ð½Ð¾. ÐžÑ‡ÐµÐ½ÑŒ ÑƒÐ¼Ð½Ð¾");
      } else if (trimmed === "102938") {
        addOutputLine("ðŸ˜… Ð¢Ð¾Ñ‚ ÑÐ°Ð¼Ñ‹Ð¹ Ð½Ð°Ð´Ñ‘Ð¶Ð½Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ");
      } else if (trimmed === "102") {
        addOutputLine("ðŸš“ Ð‘Ð°Ð³Ð¾Ñ„Ð¸ÐºÑ Ñ‚ÑƒÑ‚");
      } else if (trimmed === "103") {
        addOutputLine("ðŸš‘ Ð›ÐµÑ‡Ð¸Ð¼ ÐžÐ¡!");
      } else if (trimmed === "1111111111111111") {
        addOutputLine("ðŸ˜‰ ÐÐµ ÑÑ‚Ð¾Ð¸Ñ‚ Ð´ÐµÐ»Ð°Ñ‚ÑŒ Ñ‚Ð°ÐºÐ¸Ðµ Ð¿Ð°Ñ€Ð¾Ð»Ð¸");
      } else if (trimmed === "404") {
        addOutputLine("ðŸ” ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð°");
      } else if (trimmed === "777") {
        addOutputLine("ðŸŽ° Ð”Ð¶ÐµÐºÐ¿Ð¾Ñ‚! Ð’Ð°Ñˆ Ð²Ñ‹Ð¸Ð³Ñ€Ñ‹Ñˆ: 0â‚¸");
      } else if (trimmed === "010101") {
        binaryMode = !binaryMode;
        addOutputLine(binaryMode ? 
          "ðŸ¤– Ð ÐµÐ¶Ð¸Ð¼ Ð±Ð¸Ð½Ð°Ñ€Ð½Ð¾Ð³Ð¾ Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸Ñ Ð°ÐºÑ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ð½" : 
          "ðŸ¤– Ð ÐµÐ¶Ð¸Ð¼ Ð±Ð¸Ð½Ð°Ñ€Ð½Ð¾Ð³Ð¾ Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸Ñ Ð´ÐµÐ°ÐºÑ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ð½"
        );
      } 
      // ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð½Ð° Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€ÑÑŽÑ‰Ð¸ÐµÑÑ Ñ†Ð¸Ñ„Ñ€Ñ‹ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ Ð½Ðµ-ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ñ… ÐºÐ¾Ð¼Ð°Ð½Ð´
      else if (/^(\d)\1*$/.test(trimmed) && trimmed.length >= 1 && !specialCommands.has(trimmed)) {
        addOutputLine("ðŸ˜Ž ÐÐµ Ð¾Ñ‡ÐµÐ½ÑŒ Ð¾Ñ€Ð¸Ð³Ð¸Ð½Ð°Ð»ÑŒÐ½Ð¾, Ð¿Ñ€Ð°Ð²Ð´Ð°?");
      } else {
        addOutputLine("ðŸ«¨ ÐÐµÐ²ÐµÑ€Ð½Ð°Ñ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð°! ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ '9143'");
      }
    }

    createInputLine();
    terminal.scrollTop = terminal.scrollHeight;
  }

  function addOutputLine(text) {
    const line = document.createElement('div');
    line.className = 'line output-line';
    line.textContent = binaryMode ? textToBinary(text) : text;
    terminal.appendChild(line);
  }

  function createInputLine() {
    const line = document.createElement('div');
    line.className = 'line';

    const prompt = document.createElement('span');
    prompt.className = 'prompt';
    prompt.textContent = '> ';
    const inputLine = document.createElement('span');
    inputLine.className = 'input-line';
    inputLine.contentEditable = "true";
    inputLine.spellcheck = false;
    inputLine.setAttribute('role', 'textbox');
    inputLine.setAttribute('aria-multiline', 'false');

    inputLine.addEventListener('input', function() {
      if (this.textContent.length > maxInputLength) {
        this.textContent = this.textContent.substring(0, maxInputLength);
        
        const range = document.createRange();
        const sel = window.getSelection();
        range.selectNodeContents(this);
        range.collapse(false);
        sel.removeAllRanges();
        sel.addRange(range);
      }
    });

    line.appendChild(prompt);
    line.appendChild(inputLine);
    terminal.appendChild(line);

    inputLine.focus();

    return inputLine;
  }

  window.onload = () => {
    createInputLine();

    terminal.addEventListener('keydown', (e) => {
      if (e.target.classList.contains('input-line')) {
        if (e.key === 'Enter') {
          e.preventDefault();
          handleCommand(e.target.textContent, e.target);
        }
      }
    });
  };

  terminal.addEventListener('click', () => {
    const inputs = terminal.querySelectorAll('.input-line');
    if (inputs.length) {
      inputs[inputs.length - 1].focus();
    }
  });
</script>

</body>
</html>